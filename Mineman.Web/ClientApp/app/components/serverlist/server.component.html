<div class="serverrow well" [class.serveroffline]="!serverWithInfo.isAlive">
    <div *ngIf="authService.isLoggedIn" class="pull-right">
        <button class="btn btn-info btn-sm" [routerLink]="['/server', serverWithInfo.id]">
            <span class="glyphicon glyphicon-wrench"></span>
        </button>
    </div>
    <div class="clearfix"></div>

    <div class="media">
        <div class="pull-left media-object thumbnail">
            <img src="/api/server/map/{{serverWithInfo.id}}?thumb=true" *ngIf="serverWithInfo.hasMap" />
            <img src="/images/default.png" *ngIf="!serverWithInfo.hasMap" />
        </div>

        <div class="media-body" *ngIf="!serverWithInfo.isAlive">
            <div class="media-header">
                <h3 style="float:left;margin:0;padding:0;">
                    {{serverWithInfo.description}}
                </h3>
            </div>
        </div>

        <div class="media-body" *ngIf="serverWithInfo.isAlive">
            <div class="media-header">
                <h3 style="float:left;margin:0;padding:0;">
                    {{serverWithInfo.description}}
                </h3>

                <h4 style="float:right;margin:0;padding:0;">
                    <!--{{serverWithInfo.domainname}} ({{serverWithInfo.address}})--> @ Port: {{serverWithInfo.mainPort}}
                </h4>

                <div style="clear:both;"></div>
                <p>
                    <i>{{serverWithInfo.motd}}</i>
                </p>
            </div>
            <div *ngIf="serverWithInfo.isAlive && serverWithInfo.query">
                <div class="row">
                    <div class="col-md-4">
                        <b>Server software: </b> {{serverWithInfo.query.responseFields["game_id"]}} {{serverWithInfo.query.responseFields["version"]}}
                    </div>
                    <div class="col-md-4">
                        <b>Level name: </b> {{serverWithInfo.query.responseFields["map"]}}
                    </div>
                    <div class="col-md-4">
                        <b>Players: </b> {{serverWithInfo.query.numPlayers}} / {{serverWithInfo.query.maxPlayers}}
                    </div>
                </div>

                <div *ngIf="serverWithInfo.query.players && serverWithInfo.query.players.length">
                    <b>Players online: </b> {{serverWithInfo.query.players | join:", "}}
                </div>
            </div>

            <div *ngIf="serverWithInfo.mods">
                <p>
                    <b>Mods in use: </b>
                    <i ng-repeat="mod in serverWithInfo.modlist">
                        <a class="modlink" href="backend/getmod.php?mod={{mod}}&server={{serverWithInfo.servername}}" target="_blank">{{mod}}</a>
                    </i>
                </p>
            </div>
        </div>
    </div>
</div>